// Skrewler by Sam Hough; Uses MIT License. See https://github.com/Jqeff/Skrewler for details
(function($){$.fn.skrewler=function(options){var error={e:"Skrewler ERROR: ",noDirection:function(){console.log(this.e+"No direction was provided to the handler - $('#yourElement').skrewler({ direction: 'vertical' (or) 'horizontal' ");},leftUp:function(){console.log(this.e+"No id for leftUpButtonID && enableKeys === false   FIX:  $('#yourElement').skrewler({ leftUpButtonID: '#id'");},rightDown:function(){console.log(this.e+"No id for rightDownButtonID && enableKeys === false  FIX:  $('#yourElement').skrewler({ rightDownButton: '#id'");}};var defaults={direction:"",leftUpButtonID:'',rightDownButtonID:'',duration:800,reverse:false,enableKeys:false,keyCode_left:37,keyCode_right:39,keyCode_up:38,keyCode_down:40,postAnimFunc:function(){},leaveBoundsFunc:function(){},scrollByPageSize:false,include:{margin:false,padding:false,border:false},_this:null};defaults=$.extend(defaults,options);defaults._this=this;var skrewler={wHeight:0,wWidth:0,element:{},position:0,xPos:0,yPos:0,atBoundary:false,init:function(obj){this.wHeight=$(window).height();this.wWidth=$(window).width();this.element=obj;if(!defaults.include.hasOwnProperty('margin')){defaults.include.margin=false;}
if(!defaults.include.hasOwnProperty('border')){defaults.include.border=false;}
if(!defaults.include.hasOwnProperty('padding')){defaults.include.padding=false;}
if(defaults.direction===''){error.noDirection();}
if(defaults.leftUpButtonID===''&&defaults.enableKeys===false){error.leftUp();}
if(defaults.rightDownButtonID===''&&defaults.enableKeys===false){error.rightDown();}},scroll:function(direction){this.wWidth=$(this.element).parent().width();this.wHeight=$(this.element).parent().height();console.log(this.wWidth);if(defaults.reverse===true){switch(direction){case"left":direction="right";break;case"right":direction="left";break;case"up":direction="down";break;case"down":direction="up";break;}}
switch(direction){case"left":this.scrollLeft();break;case"right":this.scrollRight();break;case"up":this.scrollUp();break;case"down":this.scrollDown();break;default:console.log(error.e+' No valid direction was passed to skrewler.scroll(direction)');break;}},remPX:function(string){string=''+string+'';if(string.charAt(string.length)=='x'){return parseInt(string.substring(0,string.length-2),10);}else{return parseInt(string,10);}},scrollLeft:function(){console.log('entering scroll left');var totalWidth=0;$(this.element).find("li").each(function(){var tmp=0;if(defaults.include.border){tmp+=skrewler.remPX($(this).css('borderLeftWidth'));tmp+=skrewler.remPX($(this).css('borderRightWidth'));}
if(defaults.include.margin){tmp+=skrewler.remPX($(this).css('margin-left'));tmp+=skrewler.remPX($(this).css('margin-right'));}
if(defaults.include.padding){tmp+=skrewler.remPX($(this).css('padding-left'));tmp+=skrewler.remPX($(this).css('padding-right'));}
console.log(tmp);totalWidth+=tmp;totalWidth+=skrewler.remPX($(this).width());});console.log('out of each');var elements=$(this.element).find("li").length,scrollLength=parseInt(totalWidth/elements,10);if(defaults.scrollByPageSize){scrollLength=this.wWidth;}
if(((this.position-1)*scrollLength)>=(-totalWidth+this.wWidth)){this.position-=1;this.xPos=this.position*scrollLength;}else{if(this.atBoundary){defaults.leaveBoundsFunc();}
this.xPos=(-totalWidth+this.wWidth);this.atBoundary=true;}
console.log('scrollLength: '+scrollLength+'totalWidth: '+totalWidth+' atBoundary: '+this.atBoundary+' position: '+this.position+' xPos '+this.xPos+" wWidth "+this.wWidth);$(this.element).stop().animate({marginLeft:this.xPos},defaults.duration,function(){defaults.postAnimFunc();});},scrollRight:function(){var totalWidth=0;$(this.element).find("li").each(function(){var tmp=0;if(defaults.include.border){tmp+=skrewler.remPX($(this).css('borderLeftWidth'));tmp+=skrewler.remPX($(this).css('borderRightWidth'));}
if(defaults.include.margin){tmp+=skrewler.remPX($(this).css('margin-left'));tmp+=skrewler.remPX($(this).css('margin-right'));}
if(defaults.include.padding){tmp+=skrewler.remPX($(this).css('padding-left'));tmp+=skrewler.remPX($(this).css('padding-right'));}
totalWidth+=tmp;totalWidth+=skrewler.remPX($(this).width());});var elements=$(this.element).find("li").length,scrollLength=parseInt(totalWidth/elements,10);if(defaults.scrollByPageSize){scrollLength=this.wWidth;}
if(((this.position+1)*scrollLength)<=0){this.atBoundary=false;this.position+=1;this.xPos=this.position*scrollLength;}else{defaults.leaveBoundsFunc();this.xPos=0;}
$(this.element).stop().animate({marginLeft:this.xPos},defaults.duration,function(){defaults.postAnimFunc();});console.log('scrollLength: '+scrollLength+'totalWidth: '+totalWidth+' atBoundary: '+this.atBoundary+' position: '+this.position+' xPos '+this.xPos+" wWidth "+this.wWidth);},scrollUp:function(){var totalHeight=0;$(this.element).find("li").each(function(){var tmp=0;if(defaults.include.border){tmp+=skrewler.remPX($(this).css('borderTopWidth'));tmp+=skrewler.remPX($(this).css('borderBottomWidth'));}
if(defaults.include.margin){tmp+=skrewler.remPX($(this).css('margin-top'));tmp+=skrewler.remPX($(this).css('margin-bottom'));}
if(defaults.include.padding){tmp+=skrewler.remPX($(this).css('padding-top'));tmp+=skrewler.remPX($(this).css('padding-bottom'));}
totalHeight+=skrewler.remPX($(this).height());});var elements=$(this.element).find("li").length,scrollLength=parseInt(totalHeight/elements,10);if(defaults.scrollByPageSize){scrollLength=this.wHeight;}
if(((this.position+1)*scrollLength)<=0){this.atBoundary=false;this.position+=1;this.yPos=this.position*scrollLength;}else{defaults.leaveBoundsFunc();this.yPos=0;}
$(this.element).stop().animate({marginTop:this.yPos},defaults.duration,function(){defaults.postAnimFunc();});},scrollDown:function(){var totalHeight=0;$(this.element).find("li").each(function(){var tmp=0;if(defaults.include.border){tmp+=skrewler.remPX($(this).css('borderTopWidth'));tmp+=skrewler.remPX($(this).css('borderBottomWidth'));}
if(defaults.include.margin){tmp+=skrewler.remPX($(this).css('margin-top'));tmp+=skrewler.remPX($(this).css('margin-bottom'));}
if(defaults.include.padding){tmp+=skrewler.remPX($(this).css('padding-top'));tmp+=skrewler.remPX($(this).css('padding-bottom'));}
totalHeight+=tmp;totalHeight+=skrewler.remPX($(this).height());});var elements=$(this.element).find("li").length,scrollLength=parseInt(totalHeight/elements,10);if(defaults.scrollByPageSize){scrollLength=this.wHeight;}
if(((this.position-1)*scrollLength)>=(-totalHeight+this.wHeight)){this.position-=1;this.yPos=this.position*scrollLength;}else{if(this.atBoundary){defaults.leaveBoundsFunc();}
this.yPos=(-totalHeight+this.wHeight);this.atBoundary=true;}
$(this.element).stop().animate({marginTop:this.yPos},defaults.duration,function(){defaults.postAnimFunc();});}};skrewler.init($(this));$(defaults.leftUpButtonID).click(function(){if(defaults.direction==='horizontal'){skrewler.scroll('left');}else{skrewler.scroll('up');}
return false;});$(defaults.rightDownButtonID).click(function(){if(defaults.direction==='horizontal'){skrewler.scroll('right');}else{skrewler.scroll('down');}
return false;});$(window).keydown(function(event){if(defaults.enableKeys){if(defaults.direction==='vertical'){switch(event.which){case defaults.keyCode_up:skrewler.scroll("up");event.preventDefault();break;case defaults.keyCode_down:skrewler.scroll("down");event.preventDefault();break;}
event.preventDefault();}
if(defaults.direction==='horizontal'){switch(event.which){case defaults.keyCode_left:skrewler.scroll('left');event.preventDefault();break;case defaults.keyCode_right:skrewler.scroll('right');event.preventDefault();break;}}}});$(window).resize(function(){if(defaults.direction==="vertical"){var elements=$(skrewler.element).find("li").length,totalHeight=(elements*$(skrewler.element).find("li").outerHeight(true)),scrollLength=parseInt(totalHeight/elements,10),resizePos=skrewler.position*scrollLength;skrewler.yPos=resizePos;$(skrewler.element).stop().css({marginTop:resizePos});}else{var elements=$(skrewler.element).find("li").length,totalWidth=(elements*$(skrewler.element).find("li").outerWidth(true)),scrollLength=parseInt(totalWidth/elements,10),resizePos=skrewler.position*scrollLength;skrewler.xPos=resizePos;$(skrewler.element).stop().css({marginLeft:resizePos});}});return this;};})(jQuery);